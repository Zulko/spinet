webpackJsonp([1],{"E5C+":function(e,o){e.exports=["accordion","acoustic_bass","acoustic_grand_piano","acoustic_guitar_nylon","acoustic_guitar_steel","agogo","alto_sax","applause","bagpipe","banjo","baritone_sax","bassoon","bird_tweet","blown_bottle","brass_section","breath_noise","bright_acoustic_piano","celesta","cello","choir_aahs","church_organ","clarinet","clavinet","contrabass","distortion_guitar","drawbar_organ","dulcimer","electric_bass_finger","electric_bass_pick","electric_grand_piano","electric_guitar_clean","electric_guitar_jazz","electric_guitar_muted","electric_piano_1","electric_piano_2","english_horn","fiddle","flute","french_horn","fretless_bass","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","glockenspiel","guitar_fret_noise","guitar_harmonics","gunshot","harmonica","harpsichord","helicopter","honkytonk_piano","kalimba","koto","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","marimba","melodic_tom","music_box","muted_trumpet","oboe","ocarina","orchestra_hit","orchestral_harp","overdriven_guitar","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","pan_flute","percussive_organ","piccolo","pizzicato_strings","recorder","reed_organ","reverse_cymbal","rock_organ","seashore","shakuhachi","shamisen","shanai","sitar","slap_bass_1","slap_bass_2","soprano_sax","steel_drums","string_ensemble_1","string_ensemble_2","synth_bass_1","synth_bass_2","synth_brass_1","synth_brass_2","synth_choir","synth_drum","synth_strings_1","synth_strings_2","taiko_drum","tango_accordion","telephone_ring","tenor_sax","timpani","tinkle_bell","tremolo_strings","trombone","trumpet","tuba","tubular_bells","vibraphone","viola","violin","voice_oohs","whistle","woodblock","xylophone"]},NHnr:function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=s("7+uW"),n={render:function(){var e=this.$createElement,o=this._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(e){s("NiKj")},null,null).exports,a=s("/ocq"),r=s("woOf"),l=s.n(r),c=s("lHA8"),_=s.n(c),y=s("O90J"),u=s.n(y);console.log(u.a.context);var p=s("Y8Is"),d=s("jLmA"),h={fluid:s("O6FW"),musyng:s("E5C+")},m=new AudioContext({latencyHint:"interactive"});var b={english_uk_typewriter:s("YOxS")},f={name:"spinet",data:function(){return{keyNotes:{},noteSounds:{},keyDisplayMode:"note_sharp",keyboardType:"english_uk_typewriter",keyboardTypes:b,lastPressed:"",pressedKeys:new _.a([]),playingNotes:new _.a([]),synthesizer:"wave",instrument:"clavinet",soundfont:"fluid",soundfontNames:h,waveParameters:{source:"wave",options:{type:"triangle",loop:!1,attack:0,release:.2},effects:{reverb:{time:.01,decay:.01,reverse:!0,mix:.8}}}}},computed:{keyboard:function(){return this.keyboardTypes[this.keyboardType]}},methods:{onKeyDown:function(e){e.preventDefault();var o=this.keyNotes[e.key];this.playingNotes.has(o)||(this.noteSounds[o].play(),this.playingNotes.add(o),this.pressedKeys.has(e.key)||(this.lastPressed=e.key,this.pressedKeys.add(e.key),this.$forceUpdate()))},onKeyUp:function(e){e.preventDefault(),this.pressedKeys.delete(e.key);var o=this.keyNotes[e.key];this.noteSounds[o].stop(),this.playingNotes.delete(o),this.$forceUpdate()},bindKeys:function(){var e=this;this.keyboard.map(function(o){e.keyNotes[o.key]=o.note})},bindNotes:function(){var e=this;"soundfont"===this.synthesizer?(d.instrument(m,this.instrument,{soundfont:"MusyngKite"}).then(function(o){e.instrumentSoundfont=o}),this.keyboard.map(function(o){console.log(o.note),e.noteSounds[o.note]={play:function(){e.noteSounds[o.note].playing=e.instrumentSoundfont.play(o.note)},stop:function(){e.noteSounds[o.note].playing.stop()}}})):this.keyboard.map(function(o){var s=l()({},e.waveParameters.options);s.frequency=p.parse(o.note).freq;var t=new u.a.Sound({source:"wave",options:s});if(e.waveParameters.effects.reverb){var n=new u.a.Effects.Reverb(e.waveParameters.effects.reverb);t.addEffect(n)}e.noteSounds[o.note]=t})},createSound:function(e){var o=this.synthesizer,s=l()({},o.options);if("wave"===o.source){var t=p.parse(e);s.frequency=t.freq}else"file"===o.source&&(s.path=s.path(e,s.instrument));var n=new u.a.Sound({source:o.source,options:s});if(o.effects.reverb){var i=new u.a.Effects.Reverb(o.effects.reverb);n.addEffect(i)}return n},keyClass:function(e){return[e.class,{sharp:e.note.indexOf("#")>-1},{pressed:this.pressedKeys.has(e.key)}]},keyDisplay:function(e){var o=p.parse(e.note);return{none:"",key:e.symbol,note_sharp:o.pc.replace("#","♯"),note_bemol:function(e){var o=p.parse(e);return p.build(o.step+o.alt,-1*o.alt,o.oct)}(o.pc).replace("b","♭")}[this.keyDisplayMode]}},mounted:function(){this.bindKeys(),this.bindNotes(),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},watch:{pressedKeys:function(e){console.log("keypress",e)},synthesizer:{deep:!0,handler:function(e){this.bindNotes()}},instrument:function(e){this.bindNotes()}}},v={render:function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"prototype"},[s("h1",[e._v("Spinet")]),s("svg",{staticClass:"keyboard",attrs:{width:"100%",height:"auto",viewBox:"0 0 17 7"}},e._l(e.keyboard,function(o,t){return s("g",{key:t,staticClass:"key",class:e.keyClass(o)},[s("rect",{attrs:{width:"0.8",height:"0.8",x:parseFloat(o.xPosition)+.1,y:parseFloat(o.yPosition)+.1,rx:"0.05",ry:"0.05"}}),s("text",{staticClass:"small",attrs:{x:parseFloat(o.xPosition)+.5,y:parseFloat(o.yPosition)+.65}},[e._v(e._s(e.keyDisplay(o)))])])})),s("select",{directives:[{name:"model",rawName:"v-model",value:e.keyDisplayMode,expression:"keyDisplayMode"}],on:{change:function(o){var s=Array.prototype.filter.call(o.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.keyDisplayMode=o.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"key"}},[e._v("Keyboard")]),s("option",{attrs:{value:"note_sharp"}},[e._v("Notes (♯)")]),s("option",{attrs:{value:"note_bemol"}},[e._v("Notes (♭)")]),s("option",{attrs:{value:"none"}},[e._v("None")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.synthesizer,expression:"synthesizer"}],on:{change:function(o){var s=Array.prototype.filter.call(o.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.synthesizer=o.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"wave"}},[e._v("Wave")]),s("option",{attrs:{value:"soundfont"}},[e._v("Sounfont")])]),"soundfont"===e.synthesizer?s("select",{directives:[{name:"model",rawName:"v-model",value:e.soundfont,expression:"soundfont"}],on:{change:function(o){var s=Array.prototype.filter.call(o.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.soundfont=o.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"fluid"}},[e._v("Fluid")]),s("option",{attrs:{value:"musyng"}},[e._v("Musyng")])]):e._e(),"soundfont"===e.synthesizer?s("select",{directives:[{name:"model",rawName:"v-model",value:e.instrument,expression:"instrument"}],on:{change:function(o){var s=Array.prototype.filter.call(o.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.instrument=o.target.multiple?s:s[0]}}},e._l(e.soundfontNames[e.soundfont],function(o){return s("option",{key:o,domProps:{value:o}},[e._v(e._s(o.replace(/_/g," ")))])})):e._e()])},staticRenderFns:[]};var k=s("VU/8")(f,v,!1,function(e){s("ynix")},"data-v-01ba0245",null).exports;t.a.use(a.a);var P=new a.a({routes:[{path:"/",name:"spinet",component:k}]});t.a.config.productionTip=!1,new t.a({el:"#app",router:P,components:{App:i},template:"<App/>"})},NiKj:function(e,o){},O6FW:function(e,o){e.exports=["accordion","acoustic_bass","acoustic_grand_piano","acoustic_guitar_nylon","acoustic_guitar_steel","agogo","alto_sax","applause","bagpipe","banjo","baritone_sax","bassoon","bird_tweet","blown_bottle","brass_section","breath_noise","bright_acoustic_piano","celesta","cello","choir_aahs","church_organ","clarinet","clavinet","contrabass","distortion_guitar","drawbar_organ","dulcimer","electric_bass_finger","electric_bass_pick","electric_grand_piano","electric_guitar_clean","electric_guitar_jazz","electric_guitar_muted","electric_piano_1","electric_piano_2","english_horn","fiddle","flute","french_horn","fretless_bass","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","glockenspiel","guitar_fret_noise","guitar_harmonics","gunshot","harmonica","harpsichord","helicopter","honkytonk_piano","kalimba","koto","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","marimba","melodic_tom","music_box","muted_trumpet","oboe","ocarina","orchestra_hit","orchestral_harp","overdriven_guitar","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","pan_flute","percussive_organ","piccolo","pizzicato_strings","recorder","reed_organ","reverse_cymbal","rock_organ","seashore","shakuhachi","shamisen","shanai","sitar","slap_bass_1","slap_bass_2","soprano_sax","steel_drums","string_ensemble_1","string_ensemble_2","synth_bass_1","synth_bass_2","synth_brass_1","synth_brass_2","synth_choir","synth_drum","synth_strings_1","synth_strings_2","taiko_drum","tango_accordion","telephone_ring","tenor_sax","timpani","tinkle_bell","tremolo_strings","trombone","trumpet","tuba","tubular_bells","vibraphone","viola","violin","voice_oohs","whistle","woodblock","xylophone"]},YOxS:function(e,o){var s=[{key:"\\",note:"C2",yPosition:"4",xPosition:"1.25",symbol:"\\",class:""},{key:"z",note:"C#2",yPosition:"4",xPosition:"2.25",symbol:"Z",class:""},{key:"x",note:"D2",yPosition:"4",xPosition:"3.25",symbol:"X",class:""},{key:"c",note:"D#2",yPosition:"4",xPosition:"4.25",symbol:"C",class:""},{key:"v",note:"E2",yPosition:"4",xPosition:"5.25",symbol:"V",class:""},{key:"b",note:"F2",yPosition:"4",xPosition:"6.25",symbol:"B",class:"right-separation"},{key:"a",note:"F#2",yPosition:"3",xPosition:"1.75",symbol:"A",class:""},{key:"s",note:"G2",yPosition:"3",xPosition:"2.75",symbol:"S",class:""},{key:"d",note:"G#2",yPosition:"3",xPosition:"3.75",symbol:"D",class:""},{key:"f",note:"A2",yPosition:"3",xPosition:"4.75",symbol:"F",class:""},{key:"g",note:"A#2",yPosition:"3",xPosition:"5.75",symbol:"G",class:""},{key:"h",note:"B2",yPosition:"3",xPosition:"6.75",symbol:"H",class:"right-separation"},{key:"q",note:"C3",yPosition:"2",xPosition:"1.5",symbol:"Q",class:""},{key:"w",note:"C#3",yPosition:"2",xPosition:"2.5",symbol:"W",class:""},{key:"e",note:"D3",yPosition:"2",xPosition:"3.5",symbol:"E",class:""},{key:"r",note:"D#3",yPosition:"2",xPosition:"4.5",symbol:"R",class:""},{key:"t",note:"E3",yPosition:"2",xPosition:"5.5",symbol:"T",class:""},{key:"y",note:"F3",yPosition:"2",xPosition:"6.5",symbol:"Y",class:"right-separation"},{key:"1",note:"F#3",yPosition:"1",xPosition:"1",symbol:"1",class:""},{key:"2",note:"G3",yPosition:"1",xPosition:"2",symbol:"2",class:""},{key:"3",note:"G#3",yPosition:"1",xPosition:"3",symbol:"3",class:""},{key:"4",note:"A3",yPosition:"1",xPosition:"4",symbol:"4",class:""},{key:"5",note:"A#3",yPosition:"1",xPosition:"5",symbol:"5",class:""},{key:"6",note:"B3",yPosition:"1",xPosition:"6",symbol:"6",class:""},{key:"7",note:"C4",yPosition:"1",xPosition:"7",symbol:"7",class:""},{key:"8",note:"C#4",yPosition:"1",xPosition:"8",symbol:"8",class:""},{key:"9",note:"D4",yPosition:"1",xPosition:"9",symbol:"9",class:""},{key:"0",note:"D#4",yPosition:"1",xPosition:"10",symbol:"0",class:""},{key:"-",note:"E4",yPosition:"1",xPosition:"11",symbol:"-",class:""},{key:"=",note:"F4",yPosition:"1",xPosition:"12",symbol:"=",class:""},{key:"u",note:"F#4",yPosition:"2",xPosition:"7.5",symbol:"U",class:"left-separation"},{key:"i",note:"G4",yPosition:"2",xPosition:"8.5",symbol:"I",class:""},{key:"o",note:"G#4",yPosition:"2",xPosition:"9.5",symbol:"O",class:""},{key:"p",note:"A4",yPosition:"2",xPosition:"10.5",symbol:"P",class:""},{key:"[",note:"A#4",yPosition:"2",xPosition:"11.5",symbol:"[",class:""},{key:"]",note:"B4",yPosition:"2",xPosition:"12.5",symbol:"]",class:""},{key:"j",note:"C5",yPosition:"3",xPosition:"7.75",symbol:"J",class:"left-separation"},{key:"k",note:"C#5",yPosition:"3",xPosition:"8.75",symbol:"K",class:""},{key:"l",note:"D5",yPosition:"3",xPosition:"9.75",symbol:"L",class:""},{key:";",note:"D#5",yPosition:"3",xPosition:"10.75",symbol:";",class:""},{key:"'",note:"E5",yPosition:"3",xPosition:"11.75",symbol:"'",class:""},{key:"#",note:"F5",yPosition:"3",xPosition:"12.75",symbol:"#",class:""},{key:"n",note:"F#5",yPosition:"4",xPosition:"7.25",symbol:"N",class:"left-separation"},{key:"m",note:"G5",yPosition:"4",xPosition:"8.25",symbol:"M",class:""},{key:",",note:"G#5",yPosition:"4",xPosition:"9.25",symbol:"<",class:""},{key:".",note:"A5",yPosition:"4",xPosition:"10.25",symbol:">",class:""},{key:"/",note:"A#5",yPosition:"4",xPosition:"11.25",symbol:"/",class:""},{key:"ArrowLeft",note:"B5",yPosition:"5",xPosition:"13.25",symbol:"←",class:""},{key:"ArrowUp",note:"C6",yPosition:"4",xPosition:"14.25",symbol:"↑",class:""},{key:"ArrowDown",note:"C#6",yPosition:"5",xPosition:"14.25",symbol:"↓",class:""},{key:"ArrowRight",note:"D6",yPosition:"5",xPosition:"15.25",symbol:"→",class:""}];s.columns=["key","note","yPosition","xPosition","symbol","class"],e.exports=s},ynix:function(e,o){}},["NHnr"]);
//# sourceMappingURL=app.d7b2db60240fcb5ca21e.js.map