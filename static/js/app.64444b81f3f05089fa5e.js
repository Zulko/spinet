webpackJsonp([1],{"1aZ3":function(o,s){},NHnr:function(o,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=t("7+uW"),i={render:function(){var o=this.$createElement,s=this._self._c||o;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]};var n=t("VU/8")({name:"App"},i,!1,function(o){t("NiKj")},null,null).exports,y=t("/ocq"),a=t("lHA8"),l=t.n(a),r=t("O90J"),c=t.n(r),P={english_uk_typewriter:t("YOxS")},k={name:"spinet",data:function(){return{keySounds:{},keyDisplay:"note",keyboardType:"english_uk_typewriter",keyboardTypes:P,lastPressed:"",pressedKeys:new l.a([]),soundParameters:{waveType:"triangle",attack:0,reverb:{time:.01,decay:.01,reverse:!0,mix:.8}}}},computed:{keyboard:function(){return this.keyboardTypes[this.keyboardType]}},methods:{onKeyDown:function(o){this.pressedKeys.add(o.key),this.keySounds[o.key].play(),this.lastPressed=o.key,this.$forceUpdate()},onKeyUp:function(o){this.pressedKeys.delete(o.key),this.keySounds[o.key].stop(),this.$forceUpdate()},bindKeys:function(){var o=this;this.keyboard.map(function(s){console.log(s);var t=o.note2freq(s.note),e=o.generateSound(t);o.keySounds[s.key]=e})},noteName:function(o){return o.slice(0,o.length-1)},noteScale:function(o){return parseInt(o.slice(o.length-1,o.length))},note2freq:function(o){var s="C C# D D# E F F# G G# A A# B".split(" ").indexOf(this.noteName(o)),t=12*this.noteScale(o)+s;return 440*Math.pow(2,(t-49)/12)},generateSound:function(o){var s=new c.a.Sound({source:"wave",options:{type:this.soundParameters.waveType,frequency:o,attack:this.soundParameters.attack}});return s.addEffect(new c.a.Effects.Reverb(this.soundParameters.reverb)),s},keyClass:function(o){return[o.class,{sharp:o.note.indexOf("#")>-1},{pressed:this.pressedKeys.has(o.key)}]}},mounted:function(){this.bindKeys(),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},watch:{pressedKeys:function(o){console.log("keypress",o)}}},m={render:function(){var o=this,s=o.$createElement,t=o._self._c||s;return t("div",{staticClass:"prototype"},[t("h1",[o._v("Spinet")]),t("svg",{staticClass:"keyboard",attrs:{width:"100%",height:"auto",viewBox:"0 0 17 7"}},o._l(o.keyboard,function(s,e){return t("g",{key:e,staticClass:"key",class:o.keyClass(s)},[t("rect",{attrs:{width:"0.8",height:"0.8",x:parseFloat(s.xPosition)+.1,y:parseFloat(s.yPosition)+.1}}),t("text",{staticClass:"small",attrs:{x:parseFloat(s.xPosition)+.5,y:parseFloat(s.yPosition)+.65}},[o._v(o._s("key"===o.keyDisplay?s.symbol:o.noteName(s.note).replace("#","♯")))])])}))])},staticRenderFns:[]};var p=t("VU/8")(k,m,!1,function(o){t("1aZ3")},"data-v-10343384",null).exports;e.a.use(y.a);var b=new y.a({routes:[{path:"/",name:"spinet",component:p}]});e.a.config.productionTip=!1,new e.a({el:"#app",router:b,components:{App:n},template:"<App/>"})},NiKj:function(o,s){},YOxS:function(o,s){var t=[{key:"\\",note:"C2",yPosition:"4",xPosition:"1.25",symbol:"\\",class:""},{key:"z",note:"C#2",yPosition:"4",xPosition:"2.25",symbol:"Z",class:""},{key:"x",note:"D2",yPosition:"4",xPosition:"3.25",symbol:"X",class:""},{key:"c",note:"D#2",yPosition:"4",xPosition:"4.25",symbol:"C",class:""},{key:"v",note:"E2",yPosition:"4",xPosition:"5.25",symbol:"V",class:""},{key:"b",note:"F2",yPosition:"4",xPosition:"6.25",symbol:"B",class:"right-separation"},{key:"a",note:"F#2",yPosition:"3",xPosition:"1.75",symbol:"A",class:""},{key:"s",note:"G2",yPosition:"3",xPosition:"2.75",symbol:"S",class:""},{key:"d",note:"G#2",yPosition:"3",xPosition:"3.75",symbol:"D",class:""},{key:"f",note:"A2",yPosition:"3",xPosition:"4.75",symbol:"F",class:""},{key:"g",note:"A#2",yPosition:"3",xPosition:"5.75",symbol:"G",class:""},{key:"h",note:"B2",yPosition:"3",xPosition:"6.75",symbol:"H",class:"right-separation"},{key:"q",note:"C3",yPosition:"2",xPosition:"1.5",symbol:"Q",class:""},{key:"w",note:"C#3",yPosition:"2",xPosition:"2.5",symbol:"W",class:""},{key:"e",note:"D3",yPosition:"2",xPosition:"3.5",symbol:"E",class:""},{key:"r",note:"D#3",yPosition:"2",xPosition:"4.5",symbol:"R",class:""},{key:"t",note:"E3",yPosition:"2",xPosition:"5.5",symbol:"T",class:""},{key:"y",note:"F3",yPosition:"2",xPosition:"6.5",symbol:"Y",class:"right-separation"},{key:"1",note:"F#3",yPosition:"1",xPosition:"1",symbol:"1",class:""},{key:"2",note:"G3",yPosition:"1",xPosition:"2",symbol:"2",class:""},{key:"3",note:"G#3",yPosition:"1",xPosition:"3",symbol:"3",class:""},{key:"4",note:"A3",yPosition:"1",xPosition:"4",symbol:"4",class:""},{key:"5",note:"A#3",yPosition:"1",xPosition:"5",symbol:"5",class:""},{key:"6",note:"B3",yPosition:"1",xPosition:"6",symbol:"6",class:""},{key:"7",note:"C4",yPosition:"1",xPosition:"7",symbol:"7",class:""},{key:"8",note:"C#4",yPosition:"1",xPosition:"8",symbol:"8",class:""},{key:"9",note:"D4",yPosition:"1",xPosition:"9",symbol:"9",class:""},{key:"0",note:"D#4",yPosition:"1",xPosition:"10",symbol:"0",class:""},{key:"-",note:"E4",yPosition:"1",xPosition:"11",symbol:"-",class:""},{key:"=",note:"F4",yPosition:"1",xPosition:"12",symbol:"=",class:""},{key:"u",note:"F#4",yPosition:"2",xPosition:"7.5",symbol:"U",class:"left-separation"},{key:"i",note:"G4",yPosition:"2",xPosition:"8.5",symbol:"I",class:""},{key:"o",note:"G#4",yPosition:"2",xPosition:"9.5",symbol:"O",class:""},{key:"p",note:"A4",yPosition:"2",xPosition:"10.5",symbol:"P",class:""},{key:"[",note:"A#4",yPosition:"2",xPosition:"11.5",symbol:"[",class:""},{key:"]",note:"B4",yPosition:"2",xPosition:"12.5",symbol:"]",class:""},{key:"j",note:"C5",yPosition:"3",xPosition:"7.75",symbol:"J",class:"left-separation"},{key:"k",note:"C#5",yPosition:"3",xPosition:"8.75",symbol:"K",class:""},{key:"l",note:"D5",yPosition:"3",xPosition:"9.75",symbol:"L",class:""},{key:";",note:"D#5",yPosition:"3",xPosition:"10.75",symbol:";",class:""},{key:"'",note:"E5",yPosition:"3",xPosition:"11.75",symbol:"'",class:""},{key:"#",note:"F5",yPosition:"3",xPosition:"12.75",symbol:"#",class:""},{key:"n",note:"F#5",yPosition:"4",xPosition:"7.25",symbol:"N",class:"left-separation"},{key:"m",note:"G5",yPosition:"4",xPosition:"8.25",symbol:"M",class:""},{key:",",note:"G#5",yPosition:"4",xPosition:"9.25",symbol:"<",class:""},{key:".",note:"A5",yPosition:"4",xPosition:"10.25",symbol:">",class:""},{key:"/",note:"A#5",yPosition:"4",xPosition:"11.25",symbol:"/",class:""},{key:"ArrowLeft",note:"B5",yPosition:"5",xPosition:"13.25",symbol:"←",class:""},{key:"ArrowUp",note:"C6",yPosition:"4",xPosition:"14.25",symbol:"↑",class:""},{key:"ArrowDown",note:"C#6",yPosition:"5",xPosition:"14.25",symbol:"↓",class:""},{key:"ArrowRight",note:"D6",yPosition:"5",xPosition:"15.25",symbol:"→",class:""}];t.columns=["key","note","yPosition","xPosition","symbol","class"],o.exports=t}},["NHnr"]);
//# sourceMappingURL=app.64444b81f3f05089fa5e.js.map